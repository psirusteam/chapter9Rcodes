[["index.html", "CHAPTER 9 - EXAMPLES IN R Abstract", " CHAPTER 9 - EXAMPLES IN R 2025-03-21 Abstract The Ethiopia Socioeconomic Survey (ESS) is a nationally representative study conducted by the Central Statistical Agency of Ethiopia (CSA) in collaboration with the World Bank. Its objective is to collect detailed information on various aspects of Ethiopian households, such as expenditure on goods and services, income, employment, agricultural production, and living conditions. The data collected in the ESS are essential for policy formulation and evaluating the impact of development programs in the country. This survey enables the analysis of consumption patterns and economic inequalities across different regions, distinguishing between urban and rural areas to identify trends and specific population needs. In this study, multiple analyses have been conducted using ESS data, applying data processing and visualization techniques to examine household income and expenditure patterns. Bar charts have been created to illustrate the distribution of spending on non-food items, histograms to assess the density of expenditure across different categories, and scatter plots to explore the relationship between per capita income and expenditure. Additionally, weighted statistical models have been implemented, considering the survey’s sampling structure to ensure representative and robust estimates. These analyses help identify key differences in the economic behavior of Ethiopian households, providing valuable insights for designing interventions and policies aimed at improving the population’s well-being. "],["accounting-for-the-sampling-design.html", "Accounting for the Sampling Design", " Accounting for the Sampling Design The Ethiopia Socioeconomic Survey (ESS4) is part of the Living Standards Measurement Study (LSMS), an initiative by the World Bank in collaboration with the Central Statistical Agency of Ethiopia (CSA). Its objective is to provide high-quality data for the analysis of poverty, food security, agricultural development, and other key socioeconomic aspects. The ESS4 is part of a series of longitudinal surveys initiated in 2011 under the name Ethiopia Rural Socioeconomic Survey (ERSS). In its first two rounds, the survey only covered rural areas and small towns, but starting from the second wave (ESS2, 2013/2014), the coverage was expanded to all urban areas, ensuring nationally representative estimates. The ESS1, ESS2, and ESS3 waves constitute Panel I, while ESS4 initiates a new panel, serving as the baseline for future surveys. The survey provides information on household structure, employment, income, consumption, education, health, access to infrastructure, and characteristics of the agricultural sector. One of its key features is the combination of household survey data with administrative records and remote sensing technologies, such as satellite imagery, to improve the accuracy of economic and social indicator estimates. "],["sample-design-of-the-ess4-20182019.html", "Sample design of the ESS4 2018/2019", " Sample design of the ESS4 2018/2019 The sampling design of ESS4 is based on a two-stage stratified probabilistic sampling, with different strategies for rural and urban areas. In the first stage, enumeration areas (EA) in rural zones were selected using simple random sampling (SRS) from a subsample of the 2018 Large-Scale Agricultural Survey (AgSS). In urban areas, EAs were directly selected from the urban frame using systematic sampling with probability proportional to size (PPS) within each region. This approach ensured a proportional allocation of the sample between urban and rural areas. In the second stage, households within each selected EA were chosen through systematic random sampling. In rural areas, 10 agricultural households were selected from the AgSS sample, along with 2 non-agricultural households, ensuring that the total number of agricultural households remained 10 when fewer than 2 non-agricultural households were available. In urban areas, 15 households per EA were selected, regardless of economic activity. A total of 7,527 households across 565 EAs were initially planned for the survey; however, due to security restrictions, the final number of completed surveys was 6,770 households across 535 EAs. This design ensures representative coverage of socioeconomic conditions in both rural and urban areas. "],["data-source.html", "Data Source", " Data Source The ESS4 was implemented by the CSA of Ethiopia, in collaboration with the World Bank and other international organizations. Data collection was conducted through direct interviews with selected households, using electronic devices through the Computer-Assisted Personal Interviewing (CAPI) methodology. The database includes detailed information on various socioeconomic aspects, such as: Household structure and sociodemographic characteristics (age, gender, education, health). Living conditions and economic well-being (income, consumption, access to services). Housing characteristics (construction materials, access to drinking water, sanitation, and electricity). Food security and agricultural production (crops, livestock, access to markets). Access to financing and land tenure. Mobility and migration (internal displacement and job seeking). For more details on the methodology, sampling design, and data access, you can refer to the official source on the World Bank Microdata Library: ESS4 Survey on Microdata Library - World Bank "],["using-software-to-generate-valid-inferences.html", "2.3 Using Software to Generate Valid Inferences", " 2.3 Using Software to Generate Valid Inferences This R code sets up a clean and optimized environment for data analysis before executing any processing. First, it removes all previously loaded objects from memory and performs garbage collection to free up resources, preventing potential conflicts with data from previous sessions. Then, it loads a set of essential libraries for data manipulation and analysis, including packages specialized in survey data, efficient handling of large datasets, and formatting of results. Additionally, it ensures that the select function from dplyr is explicitly used to avoid conflicts with other libraries. Finally, the code adjusts the available RAM memory limit, optimizing performance for large-scale data processing. This setup is particularly useful in survey analysis and statistical studies that involve working with extensive datasets and computationally intensive calculations. "],["loading-datasets.html", "Loading Datasets", " Loading Datasets This R code loads and prepares a dataset for the ESS4 survey analysis. It uses the read_sav() function to import a SPSS (.sav) file, ensuring the correct reading of the database. Then, the select() function is applied to extract only the key variables, including unique household and enumeration area identifiers, geographic location information, and stratification into urban and rural areas. Additionally, the final adjusted sampling weight is included, which is essential for obtaining representative estimates. #------------------------------------------------------------------------------# # Loading Datasets # #------------------------------------------------------------------------------# # Household identification; location; household size and field staff identification HH_data &lt;- read_sav(&quot;data/data_ESS4/sect_cover_hh_w4.sav&quot;) %&gt;% select(household_id, # Unique Household Identifier ea_id, # Unique Enumeration Area Identifier saq14, # Area = Rural/Urban saq02, # Zone Code saq01, # Region Code pw_w4 # Final adjusted sampling weight ) This code generates two summary tables that count the enumeration areas and households by region and type of area (urban/rural). First, the ea_counts_by_region table calculates the number of enumeration areas (EA) in each region and zone. To achieve this, unique EAs are identified and grouped by region and area type (urban or rural). The structure is then reorganized using pivot_wider() to display the rural and urban categories as separate columns. Finally, the total number of EAs per region is calculated, and the columns are renamed for better clarity. On the other hand, the hh_counts_by_region table follows a similar process, but instead of counting EAs, it counts the number of households by region and area type. Unique households are extracted along with their respective region and zone, then grouped and counted by category. Subsequently, the data is reorganized using pivot_wider(), allowing urban and rural households to be distinguished in separate columns. Finally, the total number of households per region is calculated, and the columns are renamed to ensure a clear and consistent format. ea_counts_by_region &lt;- HH_data %&gt;% distinct(ea_id, saq14, saq01) %&gt;% mutate(saq14 = as_factor(saq14), saq01 = as_factor(saq01)) %&gt;% group_by(saq01, saq14) %&gt;% tally() %&gt;% pivot_wider( names_from = saq14, values_from = n, values_fill = list(n = 0) ) %&gt;% mutate(ea_counts_by_region = RURAL + URBAN) %&gt;% rename_with( ~ paste0(., &quot;_ea_id&quot;), c(&quot;RURAL&quot;, &quot;URBAN&quot;)) # Count of Households (HH) by region and area (urban/rural) categories hh_counts_by_region &lt;- HH_data %&gt;% distinct(household_id, saq01, saq14) %&gt;% mutate(saq14 = as_factor(saq14), saq01 = as_factor(saq01)) %&gt;% group_by(saq01, saq14) %&gt;% tally() %&gt;% pivot_wider( names_from = saq14, values_from = n, values_fill = list(n = 0) ) %&gt;% mutate(TOTAL_HH = RURAL + URBAN) %&gt;% rename_with( ~ paste0(., &quot;_HH&quot;), c(&quot;RURAL&quot;, &quot;URBAN&quot;)) # Merging both datasets on saq01 temp &lt;- inner_join(hh_counts_by_region, ea_counts_by_region) This R code generates a final summary of the survey results, including an additional row with the total consolidated for “ETHIOPIA”. To achieve this, it combines the regional data stored in temp with a new row representing the sum of all regions. This aggregation is performed using summarise_if(is.numeric, sum), ensuring that all numeric variables are correctly summed, while the region column (saq01) is manually assigned as “ETHIOPIA”. Next, the dataset is reorganized using select(), where key variables are renamed for better clarity. The resulting table includes the number of rural and urban households, the number of enumeration areas for each type of zone, and the total counts of households and enumeration areas. Finally, it is converted into a data frame to facilitate manipulation and visualization. This process provides a structured view of the distribution of the population and enumeration areas, allowing for both regional analysis and a consolidated national overview. # Summarizing the results including an additional row for &quot;ETHIOPIA&quot; survey_counts &lt;- bind_rows( temp, temp %&gt;% data.frame() %&gt;% summarise_if(is.numeric, sum) %&gt;% mutate(saq01 = &quot;ETHIOPIA&quot;) ) %&gt;% select( Region = saq01, RURAL_HH, RURAL_AE = RURAL_ea_id, URBAN_HH, URBAN_AE = URBAN_ea_id, TOTAL_HH, TOTAL_AE = ea_counts_by_region ) %&gt;% data.frame() # Display final result data.frame(survey_counts) The table summarizes the distribution of households and enumeration areas (EA) by region in Ethiopia, distinguishing between rural and urban areas. Nationally, the sample includes 6,770 households and 535 EAs, with a relatively balanced distribution between urban and rural areas. The regions with the highest number of rural households are Amhara (479), Oromia (453), and SNNP (422), while Addis Ababa is entirely urban (778 households and 52 EAs). In terms of EAs, Amhara and Oromia lead in rural areas, while Addis Ababa and Dire Dawa have higher urban concentrations. Region RURAL_HH RURAL_AE URBAN_HH URBAN_AE TOTAL_HH TOTAL_AE TIGRAY 393 35 283 19 676 54 AFAR 299 28 225 15 524 43 AMHARA 479 43 271 18 750 61 OROMIA 453 43 300 20 753 63 SOMALI 355 35 255 17 610 52 BENISHANGUL GUMUZ 169 16 195 13 364 29 SNNP 422 40 269 18 691 58 GAMBELA 195 19 300 20 495 39 HARAR 190 18 360 24 550 42 ADDIS ABABA 0 0 778 52 778 52 DIRE DAWA 160 14 419 28 579 42 ETHIOPIA 3115 291 3655 244 6770 535 "],["defining-the-survey-design.html", "Defining the survey design", " Defining the survey design This code defines the survey design for the ESS4 survey using the survey package in R, ensuring that the analysis accurately reflects the sample structure. First, a new variable strata is created by combining the region (saq01) with the urban/rural classification (saq14), allowing for proper stratification of the design. Then, the dataset HH_data is converted into a survey design (as_survey_design()), specifying: - ids = ea_id: Identifier of the primary sampling unit (enumeration area, EA). - strata = strata: Stratification by region and urban/rural area. - weights = pw_w4: Use of the adjusted sampling weight to obtain representative estimates. - nest = TRUE: Indicates that sampling units are nested within strata. #------------------------------------------------------------------------------# # Defining the survey design #------------------------------------------------------------------------------# ESS4_design &lt;- HH_data %&gt;% mutate(strata = paste0(saq01, &quot;_&quot;, saq14)) %&gt;% as_survey_design( ids = ea_id, # Primary sampling unit identifier (EA) strata = strata, # Stratification by region (saq01) and urban/rural zone (saq14) weights = pw_w4, # Final adjusted weight nest = TRUE ) Additionally, the option survey.lonely.psu = \"fail\" is set, causing the code to produce an error if a stratum has only a single, non-certainty primary sampling unit (PSU), ensuring a correctly specified survey design. Finally, summary(ESS4_design) is used to display a summary of the design, allowing verification of its structure before analysis. # Makes it an error to have a stratum with a single, non-certainty PSU options(survey.lonely.psu = &quot;fail&quot;) summary(ESS4_design) ## Stratified 1 - level Cluster Sampling design (with replacement) ## With (535) clusters. ## Called via srvyr ## Probabilities: ## Min. 1st Qu. Median Mean 3rd Qu. Max. ## 3.932e-05 1.997e-04 7.680e-04 2.814e-03 4.164e-03 1.317e-01 ## Stratum Sizes: ## 1_1 1_2 12_1 12_2 13_1 13_2 14_2 15_1 15_2 2_1 2_2 3_1 3_2 4_1 4_2 ## obs 393 283 195 300 190 360 778 160 419 299 225 479 271 453 300 ## design.PSU 35 19 19 20 18 24 52 14 28 28 15 43 18 43 20 ## actual.PSU 35 19 19 20 18 24 52 14 28 28 15 43 18 43 20 ## 5_1 5_2 6_1 6_2 7_1 7_2 ## obs 355 255 169 195 422 269 ## design.PSU 35 17 16 13 40 18 ## actual.PSU 35 17 16 13 40 18 ## Data variables: ## [1] &quot;household_id&quot; &quot;ea_id&quot; &quot;saq14&quot; &quot;saq02&quot; &quot;saq01&quot; ## [6] &quot;pw_w4&quot; &quot;strata&quot; The results confirm that the ESS4 survey design was correctly implemented using a stratified cluster sampling approach (PSU) with replacement. The stratification combines the region and the urban/rural classification, ensuring representativeness at both levels. The sample includes 535 clusters (PSU), and the number of primary sampling units in each stratum matches the planned design, indicating a consistent execution. The selection probabilities vary by region and area type, reflecting a sampling design adjusted to the population’s characteristics. Overall, these results validate the sampling structure and ensure that the derived estimates are representative at both the national and regional levels, accounting for geographic distribution and urban-rural stratification. "],["descriptive-parameters.html", "1 Descriptive Parameters", " 1 Descriptive Parameters In this subsection a NSO will share how they do disseminate its results on basic descriptive statistics, how they publish the resulting tables and how do they deal with the suppression of estimates that do not reach expected quality. "],["ethiopia-socioeconomic-survey-ess4-sampling-design-and-data-source.html", "1.1 Ethiopia Socioeconomic Survey (ESS4): Sampling Design and Data Source", " 1.1 Ethiopia Socioeconomic Survey (ESS4): Sampling Design and Data Source 1.1.1 Sampling Design The ESS4 follows a probabilistic, stratified, and two-stage sampling design, ensuring representative coverage at the national and regional levels. 1.1.1.1 Sampling Frame The sample selection was based on the updated cartography from the 2018 Population and Housing Census, ensuring an updated and accurate sampling frame. First Stage: Selection of Enumeration Areas (EAs) In rural areas, Enumeration Areas (EAs) were selected from the sample of the Annual Agricultural Sample Survey (AgSS) using simple random sampling. In urban areas, the selection was carried out through systematic sampling with probability proportional to size (PPS). A total of 565 EAs were selected, of which 316 were rural and 249 were urban. Second Stage: Selection of Households Within each selected EA, households were sampled using systematic random sampling: Rural areas: 10 agricultural households and 2 non-agricultural households were selected per EA. Urban areas: 15 households were selected per EA, regardless of their economic activity. The final planned sample comprised 7,527 households, although due to security constraints, only 6,770 households in 535 EAs could be interviewed. Resumen de la Muestra por Region Region RURAL Households RURAL AEs URBAN Households URBAN AEs N hat_N AEs TIGRAY 393 35 283 19 676 54 AFAR 299 28 225 15 524 43 AMHARA 479 43 271 18 750 61 OROMIA 453 43 300 20 753 63 SOMALI 355 35 255 17 610 52 BENISHANGUL GUMUZ 169 16 195 13 364 29 SNNP 422 40 269 18 691 58 GAMBELA 195 19 300 20 495 39 HARAR 190 18 360 24 550 42 ADDIS ABABA 0 0 778 52 778 52 DIRE DAWA 160 14 419 28 579 42 Etiopia 3115 291 3655 244 6770 535 Description of the table: RURAL Households: Number of rural households surveyed in each region. RURAL AEs: Number of rural enumeration areas (AEs) in each region. URBAN Households: Number of urban households surveyed in each region. URBAN AEs: Number of urban enumeration areas (AEs) in each region. N Households: Total number of households surveyed in each region (rural + urban). N AEs: Total number of enumeration areas (AEs) in each region (rural + urban). "],["definición-del-diseño-muestral-en-r.html", "1.2 Definición del diseño muestral en R", " 1.2 Definición del diseño muestral en R First, the necessary libraries are loaded: haven to read data files in .sav format (SPSS), dplyr for data manipulation, survey for the analysis of complex surveys, and srvyr, which is an extension of survey with a syntax similar to dplyr. library(haven) # Para leer archivos .sav library(dplyr) # Para manipulación de datos library(survey) # Para análisis de encuestas complejas library(srvyr) library(magrittr) Next, the data is loaded from an .rds file using the readRDS function. The data is stored in the object dat_Hogar. Then, the relevant columns for the analysis are selected using the transmute function. These columns include: household_id (unique household identifier), ea_id (unique identifier for the enumeration area, representing the primary sampling units), saq14 (variable indicating whether the household is rural (1) or urban (2)), saq02 (region or district code), saq01 (region code), and pw_w4 (final adjusted weight for the fourth wave of the survey, necessary for weighted analysis). dat_Hogar &lt;- readRDS(&quot;data/data_ESS4/sect1_hh_w4.rds&quot;) %&gt;% mutate(strata = paste0(saq01, &quot;_&quot;, saq14) ) Finally, the complex survey design is defined using the as_survey_design function from the srvyr package. This design considers: ids = ~ ea_id to specify the primary sampling units (enumeration areas), strata = ~ saq01 + saq14 to define stratification by region and urban/rural area, weights = ~ pw_w4 to assign sampling weights, and nest = TRUE to indicate that the cluster identifiers are nested within the strata. This survey design is essential for performing statistical analyses that take into account the complex structure of the survey, such as estimating means, hat_Ns, or regressions. # Definir el diseño muestral design_sampleing &lt;- dat_Hogar %&gt;% # Base de datos as_survey_design( ids = ea_id, # Identificador de las unidades primarias de muestreo (EA) strata = strata, # Estratificación por región (saq01) y zona urbana/rural (saq14) weights = pw_w4, # Peso final ajustado nest = TRUE ) "],["frequencies-and-proportions.html", "1.3 Frequencies and proportions", " 1.3 Frequencies and proportions In the following section, we illustrate the estimation process using R routines, specifically for computing hat_Ns and proportions. We begin by describing the routine for estimating the hat_N number of people by region. When some strata contain only one cluster (PSU), variance estimation errors may occur. To address this, you can use the following option: options(survey.lonely.psu = \"adjust\") This adjustment ensures that the variance is computed for strata with a single cluster rather than discarding them, leading to more robust variance estimation. The process starts by converting the Region variable into a factor using as_factor(saq01), ensuring it is treated as a categorical variable. Next, the data is grouped by Region using group_by(Region). Within each group, the hat_N estimate of the variable of interest is calculated using the survey_hat_N() function. This function provides estimates of the population hat_N along with key precision metrics, including the coefficient of variation (cv), standard error (se), and confidence intervals (ci). options(survey.lonely.psu = &quot;adjust&quot;) # Tiene error cuando uso adjust design_sampleing &lt;- design_sampleing %&gt;% mutate(Region = as_factor(saq01)) tab_01 &lt;- design_sampleing %&gt;% group_by(Region) %&gt;% summarise(N_hat = survey_total(vartype = c(&quot;cv&quot;, &quot;se&quot;, &quot;ci&quot;))) After calculating these values, transformations are applied to improve their presentation: hat_N is rounded to the nearest integer. hat_N_cv is multiplied by 100 and rounded to two decimal places to express it as a percentage. hat_N_se, hat_N_low (lower limit of the confidence interval), and hat_N_upp (upper limit of the confidence interval) are rounded to integer values. Finally, the resulting table (tab_01) is saved to the file \"data/tables/secc3/tab_01.rds\" using saveRDS() tab_01 &lt;- tab_01 %&gt;% mutate( hat_N = round(hat_N), hat_N_cv = round(hat_N_cv * 100 , 2), hat_N_se = round(hat_N_se), hat_N_low = round(hat_N_low), hat_N_upp = round(hat_N_upp) ) saveRDS(tab_01, &quot;data/tablas/secc3/tab_01.rds&quot;) The results present population estimates for different regions along with their respective coefficients of variation (CV), standard errors (SE), and confidence intervals (CI). In terms of data quality, larger regions, such as Oromia and Amhara, exhibit lower coefficients of variation (3.23% and 2.48%, respectively), indicating greater precision in their estimates. On the other hand, smaller regions, such as Afar (10.03%) and Benishangul Gumuz (6.79%), show relatively high CV values, suggesting greater uncertainty in their estimates. The standard error (SE) is higher in regions with larger populations, such as Oromia (1,151,677) and Amhara (531,161), which is expected since absolute variability increases with population size. However, when considering the CV, it remains within acceptable levels for most regions. Confidence intervals (CI) help assess the reliability of the estimates. In general, regions with higher CV values have wider confidence intervals, reflecting greater uncertainty. For instance, Afar has a confidence interval of approximately ±169,061 people, whereas in Amhara, the range is relatively narrower at ±1,043,026 people. This suggests that estimates in smaller regions may be less precise and could benefit from increased sample coverage or refinements in the sampling design. Estimated population by place of residence, Ethiopia, 2018/2019 Region hat_N hat_N_cv hat_N_se hat_N_low hat_N_upp 1. TIGRAY 5738683 3.34 191814 5361848 6115519 2. AFAR 863300 10.03 86563 693239 1033360 3. AMHARA 21438509 2.48 531161 20394996 22482022 4. OROMIA 35642718 3.23 1151677 33380144 37905291 5. SOMALI 5094817 4.90 249802 4604059 5585575 6. BENISHANGUL GUMUZ 911063 6.79 61876 789502 1032625 7. SNNP 19384292 2.85 552278 18299293 20469291 12. GAMBELA 389684 4.58 17862 354592 424776 13. HARAR 254362 4.05 10309 234110 274614 14. ADDIS ABABA 3787428 2.86 108157 3574943 3999912 15. DIRE DAWA 409426 4.69 19196 371714 447139 1.3.1 Demographic Characteristics The code begins by transforming the design_sampleing dataset using the mutate function, creating new variables derived from age (s1q03a). Three age group classifications are defined: Age_Group0_5 (children under 6 and the rest), Age_Group0_9 (children under 10 and the rest), and Age_Group, which categorizes ages into three groups: 0 - 14, 15 - 64, and 65 +. design_sampleing %&lt;&gt;% mutate( Age_Group0_5 = case_when(s1q03a &lt; 6 ~ &quot;0 - 5&quot;, TRUE ~ &quot;6 +&quot;), Age_Group0_9 = case_when(s1q03a &lt; 10 ~ &quot;0 - 9&quot;, TRUE ~ &quot;9 +&quot;), Age_Group = case_when(s1q03a &lt; 15 ~ &quot;0 - 14&quot;, s1q03a &lt; 65 ~ &quot;15 - 64&quot;, TRUE ~ &quot;65 +&quot;)) Next, three tables (tab2.1_0_5, tab2.1_0_9, and tab2.1_0_14) are generated to summarize the population proportion for each age group by region. Each table groups the data by Region and the corresponding age variable, calculating the sample mean of the variable of interest using the survey_mean() function. Additionally, the proportion values are expressed as percentages and rounded to one decimal place. For the 0 - 5 and 0 - 9 age group tables, only the rows corresponding to these age groups are retained. tab2.1_0_5 &lt;- design_sampleing %&gt;% group_by(Region , Age_Group = Age_Group0_5) %&gt;% summarise(prop = survey_mean( vartype = c(&quot;cv&quot;, &quot;se&quot;, &quot;ci&quot;), proportion = TRUE, prop_method = &quot;logit&quot; )) %&gt;% mutate(prop = round(prop * 100, 1)) %&gt;% filter(Age_Group == &quot;0 - 5&quot;) tab2.1_0_9 &lt;- design_sampleing %&gt;% group_by(Region , Age_Group = Age_Group0_9) %&gt;% summarise(prop = survey_mean( vartype = c(&quot;cv&quot;, &quot;se&quot;, &quot;ci&quot;), proportion = TRUE, prop_method = &quot;logit&quot; )) %&gt;% mutate(prop = round(prop * 100, 1)) %&gt;% filter(Age_Group == &quot;0 - 9&quot;) tab2.1_0_14 &lt;- design_sampleing %&gt;% group_by(Region , Age_Group) %&gt;% summarise(prop = survey_mean( vartype = c(&quot;cv&quot;, &quot;se&quot;, &quot;ci&quot;), proportion = TRUE, prop_method = &quot;logit&quot; )) %&gt;% mutate(prop = round(prop * 100, 1)) These operations are then replicated in an additional dataset where the Region variable is set to \"Ethiopia\" instead of taking the information from the original dataset. This results in three new tables (tab2.1_0_5t, tab2.1_0_9t, and tab2.1_0_14t), processed in the same way as the previous ones but applied exclusively to Ethiopia. tab2.1_0_5t &lt;- design_sampleing %&gt;% group_by(Region = &quot;Ethiopia&quot;, Age_Group = Age_Group0_5) %&gt;% summarise(prop = survey_mean( vartype = c(&quot;cv&quot;, &quot;se&quot;, &quot;ci&quot;), proportion = TRUE, prop_method = &quot;logit&quot; )) %&gt;% mutate(prop = round(prop * 100, 1)) %&gt;% filter(Age_Group == &quot;0 - 5&quot;) tab2.1_0_9t &lt;- design_sampleing %&gt;% group_by(Region = &quot;Ethiopia&quot;, Age_Group = Age_Group0_9) %&gt;% summarise(prop = survey_mean( vartype = c(&quot;cv&quot;, &quot;se&quot;, &quot;ci&quot;), proportion = TRUE, prop_method = &quot;logit&quot; )) %&gt;% mutate(prop = round(prop * 100, 1)) %&gt;% filter(Age_Group == &quot;0 - 9&quot;) tab2.1_0_14t &lt;- design_sampleing %&gt;% group_by(Region = &quot;Ethiopia&quot;, Age_Group) %&gt;% summarise(prop = survey_mean( vartype = c(&quot;cv&quot;, &quot;se&quot;, &quot;ci&quot;), proportion = TRUE, prop_method = &quot;logit&quot; )) %&gt;% mutate(prop = round(prop * 100, 1)) Finally, all the generated tables are combined into a single table, tab_02, using bind_rows(), consolidating the results for all regions and Ethiopia into one data structure. The final table is saved as an .rds file in \"data/tablas/secc3/tab_02.rds\". tab_02 &lt;- bind_rows(tab2.1_0_14, tab2.1_0_9, tab2.1_0_5, tab2.1_0_14t, tab2.1_0_9t, tab2.1_0_5t) saveRDS(tab_02, &quot;data/tablas/secc3/tab_02.rds&quot;) The tables present population estimates by age group and place of residence in Ethiopia for the 2018/2019 period, along with their respective standard deviations. Overall, the proportion of the population in younger age groups (0 - 5, 0 - 9, and 0 - 14) is higher in regions such as Afar (46.4% in the 0 - 14 age group) and Somali (52.4% in the same group), indicating a younger population structure in these areas. In contrast, Addis Ababa has the lowest proportion of the population in the 0 - 14 age group (25.3%) and the highest in the 15 - 64 age group (70.4%), suggesting a more adult and urban demographic distribution. Estimate by age group and place of residence, Ethiopia, 2018/2019 Region 0 - 5 0 - 9 0 - 14 15 - 64 65 + 1. TIGRAY 15.8 26.0 39.4 55.8 4.8 2. AFAR 20.3 34.0 46.4 51.6 2.0 3. AMHARA 14.2 24.7 37.4 58.4 4.2 4. OROMIA 16.8 30.0 44.4 52.4 3.2 5. SOMALI 17.0 34.0 52.4 45.4 2.2 6. BENISHANGUL GUMUZ 14.7 27.0 39.8 56.1 4.2 7. SNNP 15.1 29.5 45.4 52.0 2.6 12. GAMBELA 15.9 27.5 41.6 56.6 1.7 13. HARAR 16.0 28.4 40.8 55.4 3.8 14. ADDIS ABABA 11.9 17.6 25.3 70.4 4.3 15. DIRE DAWA 14.9 25.5 37.2 59.8 3.0 Ethiopia 15.6 28.1 42.3 54.3 3.4 The quality of the estimates can be assessed by looking at the standard deviations. In general, the values are relatively low, indicating stable estimates. However, some regions exhibit higher standard deviations in certain age groups, reflecting greater uncertainty in the estimation. For example, Benishangul Gumuz has a standard deviation of 2.93 for the 0 - 14 age group, suggesting relatively high variability in this category. Similarly, Afar shows a standard deviation of 2.03 in the 0 - 14 age group, indicating that the estimate for this region may be less precise. More urbanized regions, such as Addis Ababa, exhibit lower standard deviations across almost all age groups (e.g., 0.86 in the 0 - 14 age group and 0.74 in the 15 - 64 age group), indicating greater precision in the estimates for these areas. In contrast, regions with more dispersed and rural population structures show higher variations in estimates, reflecting greater uncertainty in data quality. Estimated standard deviation by age group by place of residence, Ethiopia, 2018/2019 Region 0 - 5 0 - 9 0 - 14 15 - 64 65 + 1. TIGRAY 0.83 0.86 0.99 0.92 0.46 2. AFAR 1.33 1.74 2.03 2.06 0.38 3. AMHARA 0.84 1.12 1.12 1.09 0.45 4. OROMIA 0.92 1.13 1.02 0.90 0.45 5. SOMALI 0.82 1.18 1.23 1.22 0.37 6. BENISHANGUL GUMUZ 1.75 2.69 2.93 2.56 0.80 7. SNNP 0.91 1.35 1.37 1.25 0.40 12. GAMBELA 0.89 1.24 1.75 1.94 0.39 13. HARAR 1.03 1.46 1.60 1.49 0.48 14. ADDIS ABABA 0.69 0.90 0.86 0.74 0.53 15. DIRE DAWA 1.13 1.54 1.88 1.87 0.37 Ethiopia 0.45 0.58 0.57 0.52 0.22 1.3.2 Totals, means and ratios sect7b_hh_w4_v2.sav tab7_2 &lt;- design_sampleing %&gt;% group_by(item = item_cd_12months) %&gt;% mutate(expenditure = ifelse(s7q03 == 2, 0, s7q04), yes_no = ifelse(s7q03 == 2, 0, 1)) tab_03 &lt;- tab7_2 %&gt;% summarise( N_hat = survey_total(yes_no, na.rm = TRUE, vartype = c(&quot;se&quot;, &quot;cv&quot;)), P_hat = survey_mean(yes_no, na.rm = TRUE, vartype = c(&quot;se&quot;, &quot;cv&quot;)), T_hat = survey_total(expenditure, na.rm = TRUE, vartype = c(&quot;se&quot;, &quot;cv&quot;)), M_hat = survey_mean(expenditure, na.rm = TRUE, vartype = c(&quot;se&quot;, &quot;cv&quot;)), Md_hat = survey_median(expenditure, na.rm = TRUE, vartype = c(&quot;se&quot;, &quot;cv&quot;)) ) saveRDS(tab_03, &quot;data/tablas/secc3/tab_03.rds&quot;) "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
